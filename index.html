<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>CupNet — User Manual</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        :root{
            --bg:#0b1020; --card:#12182a; --text:#e8eefc; --muted:#9fb0d0;
            --accent:#4f7cff; --ok:#10b981; --warn:#f59e0b; --err:#ef4444;
            --code:#0e1425; --border:#1f2a44;
        }
        *{box-sizing:border-box}
        body{
            margin:0; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
            background: radial-gradient(1000px 600px at 20% -10%, #1a2240 0%, #0b1020 60%), var(--bg);
            color:var(--text); line-height:1.55;
        }
        .wrap{max-width:1000px; margin:40px auto; padding:0 20px}
        .hero{
            display:flex; gap:24px; align-items:center; background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02));
            border:1px solid var(--border); border-radius:20px; padding:20px 22px;
            box-shadow:0 30px 80px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.05);
            backdrop-filter: blur(4px);
        }
        .hero img{width:256px; height:256px; border-radius:16px; object-fit:cover; border:1px solid var(--border)}
        h1{font-size:28px; margin:0 0 6px 0}
        .muted{color:var(--muted)}
        .grid{display:grid; gap:18px; margin-top:22px}
        @media (min-width:880px){ .grid{grid-template-columns: 1.2fr 1fr} }
        .card{
            background:var(--card); border:1px solid var(--border); border-radius:16px; padding:16px 18px;
            box-shadow: 0 12px 30px rgba(0,0,0,0.25);
        }
        h2{font-size:20px; margin:0 0 10px 0}
        h3{font-size:16px; margin:16px 0 8px}
        ol,ul{margin:8px 0 0 18px}
        a{color:var(--accent); text-decoration:none}
        a:hover{text-decoration:underline}
        .toc a{display:block; padding:6px 0}
        code,kbd{
            font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
            background:var(--code); color:#cfe0ff; border:1px solid var(--border);
            padding:2px 6px; border-radius:8px; font-size:0.92em
        }
        pre{
            background:var(--code); border:1px solid var(--border); padding:12px; border-radius:12px; overflow:auto
        }
        .tips{display:grid; gap:10px}
        .tip{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
            border:1px dashed var(--border); padding:10px 12px; border-radius:12px; color:var(--muted)}
        .status{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; border:1px solid var(--border); background:rgba(255,255,255,0.03)}
        .status.ok{color:#bff6d8}
        .status.warn{color:#ffe3ad}
        .status.err{color:#ffc1c1}
        details{border:1px solid var(--border); border-radius:12px; padding:10px 12px; background:rgba(255,255,255,0.02)}
        summary{cursor:pointer; user-select:none; color:var(--muted)}
        .kbd{display:inline-block; margin-right:10px}
        .pill{display:inline-block; padding:3px 8px; border-radius:999px; border:1px solid var(--border); background:rgba(255,255,255,0.04); color:var(--muted); font-size:12px}
        .list-row{display:flex; gap:10px; flex-wrap:wrap}
        .hr{height:1px; background:linear-gradient(90deg, transparent, #263457, transparent); margin:18px 0}
        .footer{margin-top:22px; color:var(--muted); font-size:12px}
    </style>
</head>
<body>
<div class="wrap">
    <div class="hero">
        <img src="./img.png" alt="CupNet" />
        <div>
            <h1>CupNet — How to Use</h1>
            <div class="muted">Fast browser with proxy selection and detailed network logging (JSONL).</div>
            <div style="margin-top:8px" class="list-row">
                <span class="pill">Documentation version: v2025.08.14</span>
                <span class="pill">Logs: <code>logs/YYYY-MM-DD/*.jsonl</code></span>
            </div>
            <hr class="hr">

            <div style="margin-top:8px; display:flex; gap:10px; flex-wrap:wrap;" class="list-row">
                <a href="https://google.com" style="display:inline-block; padding:10px 18px; background:linear-gradient(135deg, #ff6e00, #ff9e4d); color:#fff; border-radius:8px; text-decoration:none; font-weight:bold; border:1px solid rgba(255,255,255,0.15); box-shadow:0 6px 20px rgba(0,0,0,0.25); transition: all 0.2s ease-in-out;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.35)'" onmouseout="this.style.transform=''; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.25)'">
                    Google
                </a>
                <a href="https://browserleaks.com/ip" style="display:inline-block; padding:10px 18px; background:linear-gradient(135deg, #0078ff, #00c3ff); color:#fff; border-radius:8px; text-decoration:none; font-weight:bold; border:1px solid rgba(255,255,255,0.15); box-shadow:0 6px 20px rgba(0,0,0,0.25); transition: all 0.2s ease-in-out;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.35)'" onmouseout="this.style.transform=''; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.25)'">
                    browserleaks ip
                </a>
            </div>
        </div>
    </div>

    <div class="grid">
        <div class="card toc">
            <h2>Contents</h2>
            <a href="#start">1. Quick Start</a>
            <a href="#proxy">2. Connecting via Proxy</a>
            <a href="#nav">3. Navigation and Quick Links</a>
            <a href="#logs">4. Logs: What's Recorded and Where to Find It</a>
            <a href="#menu">5. Menu and Actions</a>
            <a href="#hotkeys">6. Hotkeys</a>
            <a href="#privacy">7. Privacy and Security</a>
            <a href="#troubles">8. Common Issues</a>
            <a href="#faq">9. FAQ</a>
        </div>

        <div id="start" class="card">
            <h2>1) Quick Start</h2>
            <ol>
                <li>Launch the application. In the window that appears, select a <b>proxy</b> or <b>NONE</b>, and choose a folder for logs.</li>
                <li>Click <b>Test</b> (optional) and then <b>Apply</b>.</li>
                <li>The main window will open with an address bar and start page.</li>
                <li>The logging status is visible below the panel — file size and number of lines update every 5 seconds.</li>
            </ol>
            <div class="tips" style="margin-top:10px">
                <div class="tip">Tip: if you don't need a proxy, select <code>NONE</code> and continue without it.</div>
            </div>
        </div>
    </div>

    <div id="proxy" class="card" style="margin-top:18px">
        <h2>2) Connecting via Proxy</h2>
        <p class="muted">HTTP/HTTPS/SOCKS proxies are supported. The format is typically <code>protocol://user:pass@host:port</code>. Login/password data is automatically encoded if needed.</p>
        <h3>Initial Setup</h3>
        <ol>
            <li>On first launch, or via menu <b>File → Proxy Settings</b>.</li>
            <li>Enter the proxy URL or select <code>NONE</code>. You can also change the log folder here.</li>
            <li>The <b>Test</b> button will check access and show the IP/country through the proxy.</li>
            <li>Click <b>Apply</b> — the proxy will be active for the session.</li>
        </ol>
        <div class="hr"></div>
        <h3>Quick Change During Session</h3>
        <p>You can change the proxy on the fly without restarting the session.</p>
        <ol>
            <li>Go to menu <b>File → Quick Proxy Change</b>. (This is enabled only after a proxy has been set up initially).</li>
            <li>A new window will open. Enter the new proxy URL and click <b>Apply</b>.</li>
            <li>The application will attempt to switch proxies seamlessly, preserving the current session.</li>
        </ol>
        <div class="list-row" style="margin-top:10px;">
            <span class="status ok">Status: works without restarting the main window.</span>
            <span class="status warn">Note: local network system sites are bypassed with the <code>&lt;local&gt;</code> rule.</span>
        </div>
    </div>

    <div id="nav" class="card" style="margin-top:18px">
        <h2>3) Navigation and Quick Links</h2>
        <ul>
            <li><b>Address bar</b>: enter an address and press <kbd>Enter</kbd>. If the protocol is not specified, <code>https://</code> will be added.</li>
            <li><b>Buttons</b>: Back, Forward, Refresh.</li>
            <li><b>Indicator</b>: "loading..." / "ready".</li>
            <li><b>Start page</b>: a page with quick link buttons (e.g., Google, Browserleaks). Links open in the main window.</li>
        </ul>
    </div>

    <div id="logs" class="card" style="margin-top:18px">
        <h2>4) Logs: What's Recorded and Where to Find It</h2>
        <p>Each network request is recorded via the DevTools protocol:</p>
        <ul>
            <li><b>Request</b>: URL, method, headers, body (if any).</li>
            <li><b>Response</b>: status, headers, MIME, duration, body (for large binary data — marker <i>&lt;base64 data,...&gt;</i>).</li>
        </ul>
        <h3>Structure</h3>
        <ul>
            <li>Log folder: selected in the settings window (default is system <code>logs</code> folder).</li>
            <li>Subfolders by date: <code>YYYY-MM-DD</code>.</li>
            <li>File: <code>HH-MM-SS-XXXXXX.jsonl</code> (each record on a new line).</li>
            <li>First line — <code>session_start</code> with metadata and the applied proxy.</li>
        </ul>
        <h3>Automatic Screenshots (Smart Capture)</h3>
        <p>If enabled in the settings, a screenshot of the page is automatically added to the log file every few seconds.
            <b>This only happens if the application window is active or if there has been recent mouse activity.</b> This feature prevents logging hundreds of identical screenshots when the user is idle, saving disk space and system resources.</p>
        <details style="margin-top:10px">
            <summary>Example log record (truncated)</summary>
            <pre>{
  "id":"123.45",
  "url":"https://example.com/api",
  "method":"GET",
  "request":{"headers":{...},"body":null},
  "response":{"statusCode":200,"headers":{...},"mimeType":"application/json"},
  "durationMs":223,
  "responseBody":"{ ... }"
}</pre>
        </details>
        <div class="tips" style="margin-top:10px">
            <div class="tip">Menu <b>View → Show Network Activity</b> opens a window with a live feed of the current log file.</div>
            <div class="tip">To open the log folder from the application, use the system file explorer.</div>
        </div>
    </div>

    <div id="menu" class="card" style="margin-top:18px">
        <h2>5) Menu and Actions</h2>
        <h3>File</h3>
        <ul>
            <li><b>Proxy Settings</b> — opens the initial proxy setup and log folder window.</li>
            <li><b>Quick Proxy Change</b> — opens a dedicated window to change the proxy on the fly without restarting the session. Becomes active after the first proxy is set.</li>
            <li><b>Enable Logging</b> — a checkbox to enable/disable writing to the current log file.</li>
            <li><b>Exit</b> — terminates the application (proxy closes correctly).</li>
        </ul>
        <h3>Edit</h3>
        <ul><li>Standard commands: Undo, Redo, Cut, Copy, Paste, Delete, Select All.</li></ul>
        <h3>View</h3>
        <ul>
            <li><b>Reload</b> / <b>Reload (No Cache)</b>.</li>
            <li><b>Developer Tools</b> — for debugging.</li>
            <li><b>Show Network Activity</b> — opens the log viewer window.</li>
        </ul>
    </div>

    <div id="hotkeys" class="card" style="margin-top:18px">
        <h2>6) Hotkeys</h2>
        <ul>
            <li><kbd class="kbd">Enter</kbd> in the address bar — navigate to the address.</li>
            <li><kbd class="kbd">Alt</kbd> + <kbd>←</kbd> / <kbd>→</kbd> — Back/Forward (on Windows/Linux).</li>
            <li><kbd class="kbd">Cmd</kbd> + <kbd>[</kbd> / <kbd>]</kbd> — Back/Forward (on macOS).</li>
            <li><kbd class="kbd">Cmd/Ctrl</kbd> + <kbd>R</kbd> — Reload.</li>
            <li><kbd class="kbd">Cmd/Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd> — Reload without cache.</li>
            <li><kbd class="kbd">Cmd/Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>I</kbd> — DevTools.</li>
        </ul>
    </div>

    <div id="privacy" class="card" style="margin-top:18px">
        <h2>7) Privacy and Security</h2>
        <ul>
            <li>Logs contain URLs, headers, and possibly request/response bodies. <b>Do not share</b> them publicly if they contain sensitive data.</li>
            <li>Passwords in query strings/headers may be logged — avoid transmitting secrets in URLs.</li>
            <li>For especially sensitive operations, consider temporarily disabling logging via the "File" menu.</li>
        </ul>
    </div>

    <div id="troubles" class="card" style="margin-top:18px">
        <h2>8) Common Issues</h2>
        <ul>
            <li><b>"Proxy failed test" / Proxy error</b>: check the format (<code>protocol://user:pass@host:port</code>), login/password, and IP permissions of your proxy provider.</li>
            <li><b>"Response body doesn't open"</b>: large binary responses are marked with a placeholder; this is normal to prevent log files from bloating.</li>
            <li><b>Log file too large</b>: uncheck "Enable Logging" in the menu, or filter out noisy domains in the proxy settings.</li>
            <li><b>"DevTools doesn't attach"</b>: close other debuggers and restart the application.</li>
        </ul>
        <details style="margin-top:10px">
            <summary>Where to find the current log file?</summary>
            <p>Look at the status line below the panel — it shows the active file name. The full path is selected in the proxy settings window.</p>
        </details>
    </div>

    <div id="faq" class="card" style="margin-top:18px">
        <h2>9) FAQ</h2>
        <h3>Can I work without a proxy?</h3>
        <p>Yes. Select <code>NONE</code> in the proxy settings and apply.</p>
        <h3>What happens to logs when changing proxies?</h3>
        <p>When you change a proxy (either via initial setup or Quick Change), a new <code>session_start</code> record is added to the log file, indicating the new active proxy. The logging continues in the same file.</p>
        <h3>How to clear session data (cookies, cache)?</h3>
        <p>The application is configured to clear all session data upon exit. Simply close and reopen the application for a clean slate.</p>
        <h3>Where can I see the application version?</h3>
        <p>The proxy settings window displays the application's <i>name</i> and <i>version</i> at the bottom.</p>
    </div>

    <div class="footer">
        © CupNet. All rights reserved.
    </div>
</div>
</body>
</html>
